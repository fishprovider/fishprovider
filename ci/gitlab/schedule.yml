#
# Important Notes
#
# `rules` cannot see `variables`, only `script` can see `variables`
#

include:
  - local: /ci/gitlab/_base.yml
  - local: /ci/gitlab/_deploy.yml

schedule-deploy-phone-android:
  tags:
    - local
  rules:
    - exists:
      - $SCHEDULE_PHONE_ANDROID
  cache: !reference [.cache_npm, cache]
  timeout: "30 minutes"
  script:
    - !reference [.deploy-phone-android, script]

schedule-deploy-phone-ios:
  tags:
    - local
  rules:
    - exists:
      - $SCHEDULE_PHONE_IOS
  cache: !reference [.cache_npm, cache]
  timeout: "30 minutes"
  script:
    - !reference [.deploy-phone-ios, script]

schedule-build-web:
  tags:
    - local
  rules:
    - exists:
      - $SCHEDULE_WEB
  cache: !reference [.cache_npm, cache]
  timeout: "30 minutes"
  script:
    - !reference [.build-web, script]
